# TextFileProcessor

Консольное приложение на C# для обработки текстовых файлов с подсчетом слов и демонстрацией концепций владения и заимствования.

## Описание

Приложение выполняет:

- Чтение текстового файла
- Подсчет общего количества слов
- Поиск заданного слова и подсчет его повторений
- Демонстрацию работы с неизменяемыми ссылками (модификатор in)
- Встроенное тестирование функций

## Требования

- .NET SDK 6.0 или 8.0

## Установка и запуск

### Установка

Клонируйте или создайте проект:

```bash
dotnet new console -n TextFileProcessor
cd TextFileProcessor
```

Замените содержимое `Program.cs` на код из файла.

Соберите проект:

```bash
dotnet build
```

### Запуск

**Вариант 1: Через .NET (режим разработки)**

```bash
dotnet run -- "путь_к_файлу" "слово_для_поиска"
```

**Вариант 2: Запуск скомпилированного EXE**

```bash
cd bin\Debug\net8.0\
.\TextFileProcessor.exe "путь_к_файлу" "слово_для_поиска"
```

## Пример использования

### Создание тестового файла

Windows PowerShell:

```powershell
@"
Программа программирование программный продукт.
Эта программа написана на C#.
Программа работает с текстовыми файлами.
Программа - отличный инструмент!
"@ | Out-File -FilePath C:\test\document.txt -Encoding UTF8
```

### Запуск программы

```bash
TextFileProcessor.exe C:\test\document.txt программа
```

### Вывод программы

```text
=== Программа обработки текстовых файлов ===

Чтение файла: C:\test\document.txt

=== РЕЗУЛЬТАТЫ ===
Общее количество слов в файле: 16
Количество повторений слова 'программа': 3

=== ЗАПУСК ТЕСТА ===
Тестовый текст: "Hello world! Hello everyone. This is a test hello."
Поиск слова: 'hello'
Ожидаемое количество: 3
Фактическое количество: 3
Результат теста: ПРОЙДЕН

Тест с пустой строкой: ПРОЙДЕН

Нажмите любую клавишу для выхода...
```

## Примеры тестовых файлов

### Пример 1: Простой текст (test1.txt)

```text
Привет мир! Это простой тестовый файл.
Здесь есть несколько слов для поиска.
Привет программа, привет разработчик.
Мир тесен, мир прекрасен!
```

### Пример 2: Разные форматы (test2.txt)

```text
C# programming language.
C# is great! I love C#.
c# (case insensitive test)
C#. C#? C#!
```

### Пример 3: Русский и английский (test3.txt)

```text
Программа программа ПРОГРАММА
Program program PROGRAM
Тест test ТЕСТ
Hello привет Hello
```

## Особенности реализации

- **Владение данными:** метод `ReadFileWithOwnership` передает владение строкой вызывающему коду
- **Заимствование:** методы `CountTotalWords` и `CountWordOccurrences` используют неизменяемые ссылки (in)
- **Обработка ошибок:** проверка существования файла, обработка исключений ввода-вывода
- **Регистронезависимый поиск:** слова сравниваются без учета регистра
- **Встроенное тестирование:** автоматическая проверка функций при каждом запуске

## Аргументы командной строки

| Аргумент | Описание | Пример |
| :--- | :--- | :--- |
| 1 | Путь к текстовому файлу | `C:\test\document.txt` |
| 2 | Слово для поиска | `программа` |

## Возможные ошибки

| Ошибка | Причина | Решение |
| :--- | :--- | :--- |
| Файл не найден | Указан неверный путь | Проверьте существование файла |
| Недостаточно параметров | Не указаны аргументы | Укажите путь к файлу и слово |
| Не удалось найти .NET SDK | Не установлен .NET | Скачайте с dotnet.microsoft.com |

## Требования к файлам

- Поддерживаются текстовые файлы в кодировке UTF-8
- Максимальный размер файла ограничен доступной памятью
- Слова разделяются пробелами, знаками препинания и символами новой строки

## Цели работы

- Практика с базовыми конструкциями C#
- Изучение концепций владения и заимствования через ссылки
- Работа с файловой системой
- Обработка ошибок и исключений
- Модульное тестирование

## Лицензия

Учебный проект для курса "Программирование корпоративных индустриальных систем".